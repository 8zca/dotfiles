#!/usr/bin/env zsh

function __git-recent-branches() {
  local count=${1:-10}
  git for-each-ref \
    --sort=-committerdate \
    --format='%(committerdate:relative) %(refname) %(contents:subject)' \
    refs/heads \
    | head -n $count \
    | sed -e 's/refs\/heads\///'
}

__git-recent-branches $@
